// ------------------------------------------------------------
// Animations
// ------------------------------------------------------------

@mixin fade() {
  opacity: 0;
  transition: opacity linear 1s, transform ease-in 1s;
}

@mixin drop() {
  opacity: 0;
  transform: translate3d(0,-312px,0);
  transition: opacity linear 1s, transform cubic-bezier(0.25,0.1,0.25,1) 1s;
}

@mixin rise() {
  opacity: 0;
  transform: translate3d(0,80px,0);
  transition: opacity linear 1s, transform ease-in 0.5s;
}

@mixin reset-fade() {
  opacity: 1;
}


@mixin reset() {
  opacity: 1;
  transform: translate3d(0,0,0);
}

@mixin delay-children() {
  &:nth-child(1)  {transition-delay: 0.1s;}
  &:nth-child(2)  {transition-delay: 0.2s;}
  &:nth-child(3)  {transition-delay: 0.3s;}
  &:nth-child(4)  {transition-delay: 0.4s;}
  &:nth-child(5)  {transition-delay: 0.5s;}
  &:nth-child(6)  {transition-delay: 0.6s;}
  &:nth-child(7)  {transition-delay: 0.7s;}
  &:nth-child(8)  {transition-delay: 0.8s;}
  &:nth-child(9)  {transition-delay: 0.9s;}
  &:nth-child(10) {transition-delay: 1.0s;}
  &:nth-child(11) {transition-delay: 1.1s;}
  &:nth-child(12) {transition-delay: 1.2s;}
  &:nth-child(13) {transition-delay: 1.3s;}
  &:nth-child(14) {transition-delay: 1.4s;}
  &:nth-child(15) {transition-delay: 1.5s;}
  &:nth-child(16) {transition-delay: 1.6s;}
  &:nth-child(17) {transition-delay: 1.7s;}
  &:nth-child(18) {transition-delay: 1.8s;}
  &:nth-child(19) {transition-delay: 1.9s;}
  &:nth-child(20) {transition-delay: 2.0s;}
  &:nth-child(21) {transition-delay: 2.1s;}
  &:nth-child(22) {transition-delay: 2.2s;}
  &:nth-child(23) {transition-delay: 2.3s;}
  &:nth-child(24) {transition-delay: 2.4s;}
  &:nth-child(25) {transition-delay: 2.5s;}
  &:nth-child(26) {transition-delay: 2.6s;}
  &:nth-child(27) {transition-delay: 2.7s;}
  &:nth-child(28) {transition-delay: 2.8s;}
  &:nth-child(29) {transition-delay: 2.9s;}
  &:nth-child(30) {transition-delay: 3.0s;}
  &:nth-child(31) {transition-delay: 3.1s;}
  &:nth-child(32) {transition-delay: 3.2s;}
  &:nth-child(33) {transition-delay: 3.3s;}
  &:nth-child(34) {transition-delay: 3.4s;}
  &:nth-child(35) {transition-delay: 3.5s;}
  &:nth-child(36) {transition-delay: 3.6s;}
  &:nth-child(37) {transition-delay: 3.7s;}
  &:nth-child(38) {transition-delay: 3.8s;}
  &:nth-child(39) {transition-delay: 3.9s;}
  &:nth-child(40) {transition-delay: 4.0s;}
  &:nth-child(41) {transition-delay: 4.1s;}
  &:nth-child(42) {transition-delay: 4.2s;}
  &:nth-child(43) {transition-delay: 4.3s;}
  &:nth-child(44) {transition-delay: 4.4s;}
  &:nth-child(45) {transition-delay: 4.5s;}
  &:nth-child(46) {transition-delay: 4.6s;}
  &:nth-child(47) {transition-delay: 4.7s;}
  &:nth-child(48) {transition-delay: 4.8s;}
  &:nth-child(49) {transition-delay: 4.9s;}
  &:nth-child(50) {transition-delay: 5.0s;}
  &:nth-child(51) {transition-delay: 5.1s;}
  &:nth-child(52) {transition-delay: 5.2s;}
  &:nth-child(53) {transition-delay: 5.3s;}
  &:nth-child(54) {transition-delay: 5.4s;}
  &:nth-child(55) {transition-delay: 5.5s;}
  &:nth-child(56) {transition-delay: 5.6s;}
  &:nth-child(57) {transition-delay: 5.7s;}
  &:nth-child(58) {transition-delay: 5.8s;}
  &:nth-child(59) {transition-delay: 5.9s;}
  &:nth-child(60) {transition-delay: 6.0s;}
  &:nth-child(61) {transition-delay: 6.1s;}
  &:nth-child(62) {transition-delay: 6.2s;}
  &:nth-child(63) {transition-delay: 6.3s;}
  &:nth-child(64) {transition-delay: 6.4s;}
  &:nth-child(65) {transition-delay: 6.5s;}
  &:nth-child(66) {transition-delay: 6.6s;}
  &:nth-child(67) {transition-delay: 6.7s;}
  &:nth-child(68) {transition-delay: 6.8s;}
  &:nth-child(69) {transition-delay: 6.9s;}
  &:nth-child(70) {transition-delay: 7.0s;}

}

header {
  .logo {
    @include fade();
  }
  &.visible {
    .logo {
      @include reset-fade();
    }
  }
}

section.home.hero {
  video {
    // @include fade();
  }
  .logo {
    opacity: 0;
    transition: opacity ease 2s;
    transition-delay: 1s;
  }
  .next_section {
    @include fade();
  }
  &.visible {
    video {
      // @include reset-fade();
    }
    .logo {
      opacity: 0.8;
    }
    .next_section {
      @include reset-fade();
      transition-delay: 0.5s;
      animation: next ease-in-out 1.5s;
      animation-iteration-count: infinite;
    }
  }
}

section.hero {
  h1, p, span {
    @include fade();
  }
  .shapes {
    @include fade();
  }
  
  &.visible {
    h1, p {
      @include reset();
    }
    span {
      @include reset();
      transition-delay: 0.2s;
    }
    .shapes.one {
      @include reset();
      transition-delay: 0.4s;
    }
    .shapes.two {
      @include reset(); 
      transition-delay: 0.8s;
    }
    .shapes.three {
      @include reset();
      transition-delay: 1.2s;
    }
    .shapes.four {
      @include reset(); 
      transition-delay: 1.6s;
    }
    .shapes.five {
      @include reset();
      transition-delay: 2.0s;
    }
  }
}

// Home
section.home_intro {
  @include rise();
  &.visible {
    @include reset();
  }
}
section.home_featured {
  h2, article {
    @include fade();
  }
  &.visible {
    h2 {
      @include reset();
    }
    article {
      @include reset();
      @include delay-children();
    }
  }
}
section.home_latest {
  h2, article {
    @include fade();
  }
  &.visible {
    h2 {
      @include reset();
    }
    article {
      @include reset();
    }
  }
}

// About 
section.hero.about {
  .logo {
    @include fade();
  }
  &.visible {
    .logo {
      opacity: 0.8;
      transition-delay: 1s;
    }
    .overlay {
      opacity: 0;
      transition: opacity linear 2s;
    }
  }
}

section.intro.about {
  .content {
    @include fade();
  }
  &.visible {
    .content {
      @include reset();
      transition-delay: 0.5s;
    }
  }
}

section.studio.about {
  .content {
    @include fade();
  }
  &.visible {
    .content {
      @include reset();
    }
  }
}

section.clients.about {
  .h2 {
    @include fade();
  }
  .logo {
    @include fade();
  }
  &.visible {
    .h2 {
      @include reset();
    }
    .logo {
      @include reset();
      @include delay-children();
    }
  }
}

section.process.about {
  .step {
    .shapes {
      @include fade();
    }
    .content {
      @include fade();
    }
    &.visible {
      .shapes {
        @include reset();
      }
      .content {
        @include reset();
      }
    }
  }
}

section.team.about {
  h2, h3 {
    @include fade();
  }
  .team_member {
    @include fade();
  }
  &.visible {
    h2, h3 {
      @include reset();
    }
    .team_member {
      @include reset();
      @include delay-children();
    }
  }
}

section.cta {
  h4 {
    @include fade();
  }
  &.visible {
    h4 {
      @include reset();
    }
  }
}

// News 
section.news_archive {
  article.standard {
    .item_image, .item_content {
      @include fade();
    }
    &.visible {
      .item_image, .item_content {
        @include reset();
      }
    }
  }
}

// Work
section.work_archive, section.careers_archive {
  article {
    @include fade();
  }
  &.visible {
    article {
      @include reset();
      @include delay-children();
    }
  }
}

// Contact
section.hero.contact {
  .office {
    .content {
      h5, address, a {
        @include fade();
      }
      
    }
  }
  &.visible {
    .office {
      .content {
        h5 {
          @include reset-fade();
        }
        address {
          @include reset-fade();
          transition-delay: 0.2s;
        }
        a.phone {
          @include reset-fade();
          transition-delay: 0.4s;
        }
        a.email {
          @include reset-fade();
          transition-delay: 0.6s;
        }
        a.button {
          @include reset-fade();
          transition-delay: 0.8s;
        }
      }
    }
  }
}

section.page.contact {
  .content {
    @include fade();
  }
  aside {
    @include fade();
  }
  
  &.visible {
    .content {
      @include reset-fade();
    }
    aside {
      @include reset-fade();
      transition-delay: 0.4s;
    }
    
  }
}

// Flexible Content 
.flexible_content {
  .full_image {
    @include rise();
    &.visible {
      @include reset();
    }
  } 
  .content_block {
    @include rise();
    &.visible {
      @include reset();
    }
  }
  .square_image {
    @include rise();
    &.visible {
      @include reset();
    }
  } 
  .full_video {
    @include rise();
    &.visible {
      @include reset();
    }
  }
  .stat_block {
    @include rise();
    &.visible {
      @include reset();
    }
  }
}

@keyframes fadeInAndDrop {
  0% { opacity: 0; transform: translate3d(0,-60%,0); }
  50% { opacity: 0; transform: translate3d(0,-60%,0); }
  100% { opacity: 1; transform: translate3d(0,-50%,0); }
}

@keyframes bgZoom {
  0% {
    transform: scale(1);
  }
  100% {
    transform: scale(1.05);
  }
}

@keyframes next {
  0% {
    bottom: 20px;
  }
  50% {
    bottom: 30px;
  }
  100% {
    bottom: 20px;
  }
}

@keyframes opacity {
	to {
		opacity: 1;
	}
}